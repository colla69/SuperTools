
<ui:composition name="downloader"
xmlns="http://www.w3.org/1999/xhtml"
xmlns:ui="http://java.sun.com/jsf/facelets"
xmlns:f="http://java.sun.com/jsf/core"
xmlns:h="http://java.sun.com/jsf/html"
xmlns:p="http://primefaces.org/ui">
<style type="text/css">
    .ui-datalist-content{
        border: none;
        margin: 0px;
        padding: 0px;
    }
</style>
<h:form>
    <p:toolbar>
        <f:facet name="left">
            <p:commandButton value="start"  action="#{downloadQueueMB.start}" style="margin-right:20px;" styleClass="ui-priority-primary" />
        </f:facet>
    </p:toolbar>
    <p:poll interval="2" update="done todo downloading" action=""/>

    <p:panel id="basic" header="Dowload Queue Info" style="margin-top:10px">
        <h:panelGrid columns="3" width="100%">
            <p:fieldset legend="#{downloadQueueMB.toDo}" id="todo" toggleable="false" style="height: 100%">
                <p:dataList value="#{downloadQueueMB.todoList}" var="element" style="height: 100%">
                    #{element}
                </p:dataList>
            </p:fieldset>
            <p:fieldset legend="#{downloadQueueMB.downloading}" id="downloading" toggleable="false" style="height: 100%">
                <p:dataList value="#{downloadQueueMB.downloadingList}" var="element" style="height: 100%" >
                    #{element}
                </p:dataList>
            </p:fieldset>
            <p:fieldset legend="#{downloadQueueMB.done}" id="done" toggleable="false" style="height: 100%">
                <p:dataList value="#{downloadQueueMB.doneList}" var="element" style="height: 100%">
                    #{element}
                </p:dataList>
            </p:fieldset>
        </h:panelGrid>
    </p:panel>
</h:form>
</ui:composition>